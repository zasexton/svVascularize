<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>svVascularize Quickstart</title>
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topnav">
    <div class="container">
      <h1><a href="../index.html">svVascularize</a></h1>
      <nav>
        <a href="index.html#about">About</a>
        <a href="install.html">Installation</a>
        <a href="doc.html">Documentation</a>
        <a href="index.html#simulation">Simulation</a>
        <a href="https://pypi.org/project/svv/" target="_blank" rel="noopener">PyPI</a>
        <a href="https://github.com/SimVascular/svVascularize" target="_blank" rel="noopener">GitHub</a>
      </nav>
    </div>
  </header>

  <main class="container content">
    <h2>Quickstart tutorial</h2>
    <p>This guide shows how to grow a small synthetic vascular objects and export 0‑D simulation files for a simple
      convex shape. For this example we will forgo including other build parameters such as starting points and
      additional hemodynamic constraints in order to focus on only the essential API for minimally viable
      vascular objects. Here we create a simple domain, grow a vascular tree and forest, visualising them in an interactive viewer, and
      export 0‑D hemodynamic simulation files for further analysis using <code>svzerodsolver</code> .</p>


    <h3>Generate and visualise a tree</h3>
    <pre data-copy><code class="language-python">import pyvista as pv
from svv.domain.domain import Domain
from svv.tree.tree import Tree

# Creating the Tissue Domain
cube = Domain(pv.Cube())
cube.create()
cube.solve()
cube.build()

# Creating the Vascular Tree Object
t = Tree()
t.set_domain(cube)
t.set_root()
t.n_add(50)

# Visualizing the Tree and Domain
t.show(plot_domain=True)</code></pre>

    <figure class="figure-center">
      <img src="graphics/quickstart_orbit.gif" alt="Orbit around vascular tree" width="300" />
      <figcaption> Rotating view of the generated vascular tree </figcaption>
    </figure>
    <h3 id="export-0d-simulation-files">Export 0‑D simulation files</h3>
    <pre data-copy><code class="language-python">from svv.simulation.fluid.rom.zero_d.zerod_tree import export_0d_simulation

export_0d_simulation(t, outdir="my_tree_0d")
</code></pre>
    <p>This writes a 0-D solver input file, <code>solver_0d.in</code>, and geometric file, <code>geom.csv</code>, in
      the folder <code>my_tree_0d/</code>. The input file should contain all necessary parameters and inflow conditions to run
      the simulation. By default, 0-D simulations exported via this routine will simulate steady state flow through the
      vascular trees. Time-varying flows can be considered if additional arguments are applied to the
      <code>export_0d_simulation</code> function. Run the solver with <a href="https://simvascular.github.io/documentation/rom_simulation.html#0d-solver-user-guide"><code>svZeroDSolver</code></a>.</p>
  <h3>Generate and visualise a forest</h3>
    <p>Unlike <code>tree</code>, <code>forest</code> objects are composed by connecting synthetic vascular trees to form fluid circuits
    with a desired number of inlets and outlets. These are especially useful for fabrication and fluid routing problems in which
      control over the start/end points are critical.</p>
        <pre data-copy><code class="language-python">import pyvista as pv
from svv.domain.domain import Domain
from svv.forest.forest import Forest

# Creating the Tissue Domain
cube = Domain(pv.Cube())
cube.create()
cube.solve()
cube.build()

# Creating the Vascular Forest Object
f = Forest()
f.set_domain(cube)
f.set_roots()
f.add(50)

# Visualizing the Forest and Domain
f.show(plot_domain=True)</code></pre>
        <figure class="figure-center">
      <img src="graphics/quickstart_forest_orbit.gif" alt="Orbit around unconnected vascular forest" width="400" />
      <figcaption> Rotating view of the generated vascular forest </figcaption>
    </figure>
    <p>At this step our vascular forest object remains unconnected and should contain two non-intersecting trees.
    Because we have not specified any special build parameters, these trees adhere to the same default fluid constrains
    and are allowed to grow homogeneously within the tissue domain. Connections among multiple trees is accomplished via
      the <code>forest.connect()</code> method which automatically sets up a two-step optimization problem to form
    connections among sets of tree terminals. </p>
    <pre data-copy><code class="language-python"># Form connections
f.connect()

# Visualize the Connected Forest Object
f.connections.tree_connections[0].show().show()</code></pre>
      <figure class="figure-center">
      <img src="graphics/quickstart_forest_connected_orbit.gif" alt="Orbit around connected vascular forest" width="400" />
      <figcaption> Rotating view of the connected vascular forest </figcaption>
    </figure>
  <h3 id="export-0d-forest">Export 0-D simulation files</h3>
      <p>Because a forest object may contain multiple fluid networks, it is important to specify which network a user wants
      to export for simulation as well as the inlet boundaries. These are the second and thrid positional arguments of the
      simulation exporting function, respectively. </p>
      <pre data-copy><code class="language-python">from svv.simulation.fluid.rom.zero_d.zerod_forest import export_0d_simulation

export_0d_simulation(f, 0, [0], outdir="my_forest_0d")      </code> </pre>
      <p>Similar to exporting the <code>tree</code> object for simulation, this function will write out a 0-D solver input
          file <code>solver_0d.in</code> as well as a geometric file, <code>geom.csv</code> for casting solutions back onto
      the 3D geometry for visualization. The inlet boundary conditions will be applied to the root vessel of the first tree
      since we specified this in the third argument of our function above. By default, this will be a steady flow simulation
          with a simple resistance outflow boundary condition. Solutions to the 0-D problem can be obtained using the same <code>svzerodsolver</code>
      workflow.</p>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2025 SimVascular, Stanford University, The Regents of the University of California, and others —
      <a href="https://opensource.org/license/BSD-3-Clause">BSD 3-Clause License</a><br></p>
    </div>
  </footer>

  <script defer src="script.js"></script>
</body>
</html>